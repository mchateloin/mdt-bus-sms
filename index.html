
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Text My Bus (MIA) - By Code for Miami</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-30955754-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</head>
<body>
<div class="wrapper">
    <header>
        <h1 class="header">Text My Bus (MIA)</h1>
        <p class="header">An SMS system that lets users text an ID number of a bus stop and receive a message with its upcoming times.</p>
        <ul class="button-group">
            <li><a class="buttons github" href="https://github.com/Code-for-Miami/mdt-bus-sms">View On GitHub</a></li>
        </ul>
        <ul class="menu">
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="https://github.com/Code-for-Miami/mdt-bus-sms/issues">Issues</a></li>
        </ul>
        <p class="header">This project is maintained by <a class="header name" href="https://github.com/Code-for-Miami">Code for Miami</a></p>
    </header>
    <section>

        <h1>Why?</h1>
        <p>The goal of Text My Bus is to provide easy access to updated bus schedules for low-income individuals and other Miami-Dade County residents and visitors who rely on public transportation for commuting and getting around the county. When users text the ID number of his or her bus stop and receive a message with upcoming bus times for that stop. </p>

        <h2>Demo-ing the prototype</h2>

            <ul>
                <li>SMS in the Twilio test phone number: (786) 629-6468</li>
                <li>SMS should be in the format: "BUS [ROUTE SHORT NAME] AT [STOP LOCATION ID]"</li>
                <li>For example: "BUS 101 AT 2884" (The 101/A route at 17th St &amp; Meridian Ave, Miami Beach, FL)</li>
            </ul>
        <h2>
                <a name="finding-out-stop-location-ids-for-internal-use-mostly" class="anchor" href="#finding-out-stop-location-ids-for-internal-use-mostly"><span class="octicon octicon-link"></span></a>Finding out stop location IDs (for internal use mostly)</h2>

            <ul>
                <li>SMS in the Twilio test phone number: (786) 629-6468</li>
                <li>SMS in format: "STOP AT [INTERSECTION ADDRESS, CITY, STATE]" will return a list of stops near that intersection along with the calculated direction of the street they're on</li>
                <li>Example: "STOP AT 17 ST &amp; MEDIRIAN AVE, MIAMI BEACH, FL" returns #2884 Eastbound.</li>
                <li>SMS in format: "STOP [LOCATION ID]" will return a Google Maps link centered on the coordinates of the location ID</li>
                <li>Example: "STOP 2884" will return <a href="https://maps.google.com/maps?q=25.792236,-80.136955&amp;num=1&amp;t=m&amp;z=19">https://maps.google.com/maps?q=25.792236,-80.136955&amp;num=1&amp;t=m&amp;z=19</a>
                </li>
                <li>You may also browse to <a href="http://smsbus.illogicalsystems.com/locate-stops.html?phrase=17+st+%26+meridian+ave%2C+miami+beach%2C+fl">http://smsbus.illogicalsystems.com/locate-stops.html?phrase=17+st+%26+meridian+ave%2C+miami+beach%2C+fl</a> and play with the search box.</li>
            </ul><h2>
                <a name="filling-out-the-sticker" class="anchor" href="#filling-out-the-sticker"><span class="octicon octicon-link"></span></a>Filling out the Sticker</h2>

            <p><a href="https://github-camo.global.ssl.fastly.net/00c4f842e04105029066dc837f5fb72e80dc4db5/687474703a2f2f6661726d332e737461746963666c69636b722e636f6d2f323836302f31303638313830313532345f393232313735316264345f6d2e6a7067" target="_blank"><img src="https://github-camo.global.ssl.fastly.net/00c4f842e04105029066dc837f5fb72e80dc4db5/687474703a2f2f6661726d332e737461746963666c69636b722e636f6d2f323836302f31303638313830313532345f393232313735316264345f6d2e6a7067" alt="Txt Sticker" style="max-width:100%;"></a>
                The instructions below explain how to find your bus stop number and your bus number for TEXTMYBUS.</p>

            <ol>
                <li>Go to <a href="http://smsbus.illogicalsystems.com/locate-stops.html">http://smsbus.illogicalsystems.com/locate-stops.html</a>
                </li>
                <li>Enter the address to an intersection &amp; press search. For example:

                    <ul>
                        <li>sw 137 ave &amp; sw 56 st, miami, fl</li>
                        <li>Try to always use the city &amp; state with commas.

                            <ul>
                                <li>Works well:

                                    <ul>
                                        <li>alhambra cir &amp; ponce de leon blvd, coral gables, fl</li>
                                    </ul>
                                </li>
                                <li>Does not work well:

                                    <ul>
                                        <li>alhambra cir &amp; ponce de leon blvd coral gables fl</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>Select the pin that represents your bus stop</li>
                <li>Write down the bus stop number associated with the pin.</li>
                <li>Find your sticker.</li>
                <li>Write your bus number where it says BUS</li>
                <li>Write the stop number where it says AT</li>
                <li>Stick your bus sticker on your stop.</li>
            </ol><h2>
                <a name="what-if-my-bus-number-is-a-letter" class="anchor" href="#what-if-my-bus-number-is-a-letter"><span class="octicon octicon-link"></span></a>WHAT IF MY BUS NUMBER IS A LETTER?</h2>

            <p>All lettered buses have numbers. Here is a list of numbers associated with bus </p>

            <p>routes:</p>

            <ul>
                <li>A – 101</li>
                <li>B – 102</li>
                <li>C – 103</li>
                <li>E – 105</li>
                <li>G – 107 </li>
                <li>H – 108</li>
                <li>J – 110</li>
                <li>L - 112</li>
                <li>M – 113</li>
                <li>S – 119</li>
            </ul><h2>
                <a name="how-to-set-this-up" class="anchor" href="#how-to-set-this-up"><span class="octicon octicon-link"></span></a>How to set this up</h2>

            <ul>
                <li>Create a web server, basic LAMP stack (Requires PHP 5.3 and above)</li>
                <li>Clone the repo </li>
                <li>Download composer (package manager)
                    curl -sS <a href="https://getcomposer.org/installer">https://getcomposer.org/installer</a> | php
                    php composer.phar install </li>
                <li>Create a test Twilio account and set up the SMS hook to the web server, pointing to answer-sms.php</li>
                <li>Config file is in /config/config.php.dist - you put in the twilio send number, sid and auth_token. Don't forget to config your MySQL database in the db section accordingly. We parse the data from the feeds array under "gtfs_exchange".</li>
                <li>In the cli there's a command-line PHP script called update_gtfs.php - you can run this manually or set up a cron job.</li>
                <li>The transit data is in GTFS format: <a href="http://developers.google.com/transit/gtfs/reference">http://developers.google.com/transit/gtfs/reference</a> - We converted the GTFS formatted file into SQL in the data folder, under gtfs_tables.sql</li>
            </ul><h2>
                <a name="open-issues--future-feature-requests" class="anchor" href="#open-issues--future-feature-requests"><span class="octicon octicon-link"></span></a>Open issues &amp; Future Feature Requests</h2>

            <ul>
                <li>Right now, the bus IDs are in the GTFS data and - unfortunately - not part of the bus stop sign. As a workaround, we are playing around with taking a bus line and assigning a simple code for a stop. We are focusing on the South Beach Local (123) - Route ID #12782 in GTFS.</li>
                <li>Translations in Spanish and Haitian Creole</li>
                <li>Flesh out more the stop locator &amp; maybe not use SMS to find location IDs.</li>
            </ul><h2>
                <a name="contributors" class="anchor" href="#contributors"><span class="octicon octicon-link"></span></a>Contributors</h2>

            <ul>
                <li>Adrian Cardenas (<a href="mailto:arcardenas@gmail.com">arcardenas@gmail.com</a>)</li>
                <li>Aleyda Mejia (<a href="mailto:aleydak.mejia@gmail.com">aleydak.mejia@gmail.com</a>)</li>
                <li>Ernie Hsiung (<a href="mailto:e@erniehsiung.com">e@erniehsiung.com</a>)</li>
                <li>Lisa Cawley (Copywriter, e-mail redacted)</li>
            </ul>


    </section>
    <footer>
        <p><small>Hosted on <a href="http://pages.github.com/">GitHub Pages</a> using the <a href="https://github.com/broccolini/dinky">Dinky theme</a></small></p>
    </footer>
</div>
<!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
</body>
</html>